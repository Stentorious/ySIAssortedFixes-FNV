; ySI - Assorted Fixes 1.1 - Stentorious

if eval FileExists "menus/ySI/ySI.xml"
	
	if Goo1.AuxVarGetFlt "*ySIFixes" != 1
	
		if eval FileExists "textures/VUIE/Brackets/Bracket.dds"
			CallAfterFrames 1 (begin function {}
				if eval GetUIFloatAlt "HUDMainMenu\_MUX" != -999
					SetUIFloatAlt "HUDMainMenu\ySI\_ySISpaceUp" 1
				else
					SetUIFloatAlt "HUDMainMenu\ySI\_ySIWidth" 32
					SetUIFloatAlt "HUDMainMenu\ySI\_ySIHeight" 32
					SetUIFloatAlt "HUDMainMenu\ySI\_ySISpaceUp" 6
					SetUIFloatAlt "HUDMainMenu\ySI\_ySISpaceLeft" -5
				endif
			end)
		endif
		
		if eval IsModLoaded "DarNifiedUINV.esp"
			SetOnMenuOpenEventHandler (begin function {int stL1}
				ClickMenuButton "InventoryMenu/GLOW_BRANCH/IM_MainRect/IM_ButtonRect/IM_CancelButton"
				SetScriptDisabled (GFFM "DarNifiedUINV.esp" "4000") 1
			end) 1 1002
			SetOnMenuCloseEventHandler (begin function {int stL1}
				SetScriptDisabled (GFFM "DarNifiedUINV.esp" "4000") 0
			end) 1 1002		
		else
			SetOnMenuOpenEventHandler ({int stL1} => ClickMenuButton "InventoryMenu/GLOW_BRANCH/IM_MainRect/IM_ButtonRect/IM_CancelButton") 1 1002
		endif
		
		Goo1.AuxVarSetFlt "*ySIFixes" 1
	
	endif
	
	if eval IsModLoaded "DarNifiedUINV.esp"
		SetScriptDisabled (GFFM "DarNifiedUINV.esp" "4000") 0
	endif	
	
endif
